<nz-layout class="h-screen font-montserrat">
    <nz-header
            class="flex items-center justify-between bg-white dark:bg-black text-black dark:text-white px-4 py-4 sm:px-10 sm:py-8 md:px-12 md:py-10 lg:px-14 lg:py-12 xl:px-16 xl:py-14 2xl:px-20 2xl:py-16">

        <a
                class="w-5 lg:w-8 flex items-baseline active:text-primary hover:text-primary"
                id="logo"
                routerLink="/">
            <img
                    alt="Logo"
                    class="!relative m-4 mr-0.5"
                    fill
                    ngSrc="./assets/logo.webp"/>
            <span
                    class="font-montserrat font-medium tracking-wider m-4 ml-0 text-xl lg:text-4xl"
            >iamu</span>
        </a>
        <button (click)="toggleCollapsed()"
                class="mr-auto ml-40 bg-white drop-shadow-[0px_0px_1px_rgba(0,0,0,0.25)] text-black border-none rounded-full hover:bg-primary hover:text-white active:bg-primary active:text-white focus:bg-primary focus:text-white"
                nz-button
                nzType="primary">
            <span [nzType]="isCollapsed ? 'right' : 'left'" nz-icon></span>
        </button>
        <nz-avatar class="bg-primary h-8 lg:h-12 w-8 lg:w-12 flex justify-center items-center" nzText="A"></nz-avatar>
    </nz-header>
    <nz-layout
            class="bg-white dark:bg-black text-black dark:text-white pr-0 sm:pr-4 md:pr-6 lg:pr-8 xl:pr-10 2xl:pr-12">
        <div class="flex flex-col w-80">
            <ul [nzInlineCollapsed]="isCollapsed" class="bg-white dark:bg-black w-full h-fit border-none" nz-menu
                nzMode="inline">
                <li
                        class="!bg-white dark:!bg-black"
                        nz-menu-item
                        nzSelected
                >
                    <div [class]="isCollapsed ? 'text-black' : 'px-6 selected-container'">
                        <span [class]="isCollapsed ? 'selected-icon' : ''" nz-icon nzType="shop"
                              style="font-size: 16px;"></span>
                        <span>Products</span>
                    </div>

                </li>
                <li
                        class="!bg-white dark:!bg-black"
                        nz-menu-item
                >
                    <div [class]="isCollapsed ? 'text-black' : 'px-6 selected-container'">
                        <span [class]="isCollapsed ? 'selected-icon' : ''" nz-icon nzType="dashboard"
                              style="font-size: 16px;"></span>
                        <span>Dashboard</span>
                    </div>
                </li>
            </ul>

            <div
                    [class]="isCollapsed ? 'drawer-left relative' : 'drawer-right relative'">
                <nz-divider class="min-w-0 w-11/12 mx-auto"></nz-divider>
                <section class="flex flex-col gap-y-4 mx-12">
                    <h2 class="text-lg font-semibold">Categories</h2>
                    @for (category of categories$ | async; track category) {
                        <!--                        Left this console log to show that category is being fetched from DB-->
                        {{ console.log(category) }}
                        <div>{{ category }}
                            <button
                                    nz-button
                                    nzType="default">
                                <span nz-icon nzType="edit"></span>
                            </button>
                            <button
                                    nz-button
                                    nzType="default">
                                <span nz-icon nzType="delete"></span>
                            </button>
                        </div>
                    }
                    <form (ngSubmit)="onSubmit()" [formGroup]="addCategoryForm">
                        <input formControlName="category" nz-input nzBorderless placeholder="New category" required/>
                        <button [disabled]="!addCategoryForm.valid"
                                class="flex items-center border-none bg-white shadow-none rounded-xl hover:bg-primary hover:text-white active:bg-primary active:text-white focus:bg-primary focus:text-white relative -left-4 gap-x-0.5"
                                nz-button
                                nzType="default">
                            <span nz-icon nzType="plus"></span>
                            Add category
                        </button>
                    </form>

                </section>

            </div>

        </div>

        <nz-content class="flex flex-col-reverse md:flex-row justify-center items-center">
            <button nz-button nzShape="circle" nzSize="large" nzType="default"><span nz-icon nzType="plus"
                                                                                     routerLink="/admin/add"></span>
            </button>
        </nz-content>
    </nz-layout>
</nz-layout>

